@prefix browser: <https://linked.opendata.cz/ontology/knowledge-graph-browser/> .
@prefix av: <https://linked.opendata.cz/resource/vocabulary/knowledge-graph-browser/wikidata/scientists/> .

@prefix dct: <http://purl.org/dc/terms/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix void: <http://rdfs.org/ns/void#> .

#####################################
# Configurations
#####################################

<https://linked.opendata.cz/resource/knowledge-graph-browser/configuration/wikidata/scientists-with-facets-dev> a browser:Configuration ;
  dct:title "Scientists with facets - dev"@en;
  dct:description "This configuration serves for development purposes."@en;
  browser:hasVisualStyleSheet <https://linked.opendata.cz/resource/knowledge-graph-browser/wikidata/scientists/style-sheet>;
  browser:startingNode <http://www.wikidata.org/entity/Q937>,
    <http://www.wikidata.org/entity/Q7186>,
    <http://www.wikidata.org/entity/Q1035> ;
  browser:resourceIriPattern "^http://www\\.wikidata\\.org/entity/Q[1-9][0-9]*$";
  browser:hasViewSet
    <https://linked.opendata.cz/resource/knowledge-graph-browser/view-set/wikidata/scientists/scientist>,
    <https://linked.opendata.cz/resource/knowledge-graph-browser/view-set/wikidata/scientists/institution>,
    <https://linked.opendata.cz/resource/knowledge-graph-browser/view-set/wikidata/scientists/country>;
  browser:hasFacet <https://linked.opendata.cz/resource/knowledge-graph-browser/facet/born-in-country-label>.
    # <https://linked.opendata.cz/resource/knowledge-graph-browser/facet/born-in-country-population>,
    # <https://linked.opendata.cz/resource/knowledge-graph-browser/facet/number-of-siblings>,
    # <https://linked.opendata.cz/resource/knowledge-graph-browser/facet/number-of-awards> .

#####################################
# Facets
#####################################

<https://linked.opendata.cz/resource/knowledge-graph-browser/facet/born-in-country-label> a browser:Facet ;
  dct:title "Born in country label - dev"@en;
  browser:facetType "label";
  dct:description "Facet to filter people based on the country they were born in."@en;
  browser:hasDataset <https://linked.opendata.cz/resource/knowledge-graph-browser/dataset/wikidata>;
  browser:facetQuery """
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX browser: <https://linked.opendata.cz/ontology/knowledge-graph-browser/>
    
    CONSTRUCT {
      ?node browser:queryPath ?targetNode.
    } WHERE {
      ?node wdt:P19/wdt:P17 ?targetNode.
    }
    """.
